import{a as $t}from"./Divider-BDpEOTMt.js";import{O as Pe,aI as Ot,af as Ze,aG as _t,d as Ve,h as y,as as qt,bP as It,bS as At,bR as Ct,ae as pt,c2 as Mt,bJ as Bt,K as yt,b as Z,e as T,a as ue,u as Be,g as ge,c3 as wt,s as Q,R as Xe,a0 as Ue,c4 as jt,U as V,c as M,f as Ne,bu as xt,ao as Et,M as de,Q as Se,bj as Qe,c5 as Nt,t as Tt,i as X,j as kt,aD as et,aw as Rt,ay as St,aM as be,aT as zt,c6 as Dt,L as tt,N as nt,aj as rt,Z as he,ah as Lt,aV as it,au as at,bg as ot,c7 as Te,aJ as ze,bo as ce,bh as Wt,bv as Ut}from"./index-D1UTLBHZ.js";import{d as Ht,u as Kt}from"./RefreshOutline-mAhTtdF8.js";function Yt(t,e,n){var r;const i=Pe(t,null);if(i===null)return;const o=(r=Ot())===null||r===void 0?void 0:r.proxy;Ze(n,a),a(n.value),_t(()=>{a(void 0,n.value)});function a(f,l){if(!i)return;const g=i[e];l!==void 0&&s(g,l),f!==void 0&&u(g,f)}function s(f,l){f[l]||(f[l]=[]),f[l].splice(f[l].findIndex(g=>g===o),1)}function u(f,l){f[l]||(f[l]=[]),~f[l].findIndex(g=>g===o)||f[l].push(o)}}const Gt=Ve({name:"Add",render(){return y("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Jt=Ve({name:"Remove",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},y("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}});function Xn(){const t=Pe($t,null);return t===null&&qt("use-dialog","No outer <n-dialog-provider /> founded."),t}function Zt(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}const Xt=It({name:"InputNumber",common:pt,peers:{Button:Ct,Input:At},self:Zt});function Qt(t){const{primaryColor:e,opacityDisabled:n,borderRadius:r,textColor3:i}=t;return Object.assign(Object.assign({},Mt),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 0 2px ${Bt(e,{alpha:.2})}`})}const en={common:pt,self:Qt},Ae=yt("n-form"),Ft=yt("n-form-item-insts"),tn=Z("form",[T("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[Z("form-item",{width:"auto",marginRight:"18px"},[ue("&:last-child",{marginRight:0})])])]);var nn=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{f(r.next(l))}catch(g){a(g)}}function u(l){try{f(r.throw(l))}catch(g){a(g)}}function f(l){l.done?o(l.value):i(l.value).then(s,u)}f((r=r.apply(t,e||[])).next())})};const rn=Object.assign(Object.assign({},ge.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>{t.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),Qn=Ve({name:"Form",props:rn,setup(t){const{mergedClsPrefixRef:e}=Be(t);ge("Form","-form",tn,wt,t,e);const n={},r=Q(void 0),i=u=>{const f=r.value;(f===void 0||u>=f)&&(r.value=u)};function o(u){return nn(this,arguments,void 0,function*(f,l=()=>!0){return yield new Promise((g,v)=>{const F=[];for(const h of Xe(n)){const m=n[h];for(const w of m)w.path&&F.push(w.internalValidate(null,l))}Promise.all(F).then(h=>{const m=h.some(_=>!_.valid),w=[],c=[];h.forEach(_=>{var b,k;!((b=_.errors)===null||b===void 0)&&b.length&&w.push(_.errors),!((k=_.warnings)===null||k===void 0)&&k.length&&c.push(_.warnings)}),f&&f(w.length?w:void 0,{warnings:c.length?c:void 0}),m?v(w.length?w:void 0):g({warnings:c.length?c:void 0})})})})}function a(){for(const u of Xe(n)){const f=n[u];for(const l of f)l.restoreValidation()}}return Ue(Ae,{props:t,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:i}),Ue(Ft,{formItems:n}),Object.assign({validate:o,restoreValidation:a},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:t}=this;return y("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pe.apply(this,arguments)}function an(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ie(t,e)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},He(t)}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ie(t,e)}function on(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Me(t,e,n){return on()?Me=Reflect.construct.bind():Me=function(i,o,a){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(i,s),f=new u;return a&&Ie(f,a.prototype),f},Me.apply(null,arguments)}function sn(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ke(t){var e=typeof Map=="function"?new Map:void 0;return Ke=function(r){if(r===null||!sn(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Me(r,arguments,He(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ie(i,r)},Ke(t)}var ln=/%[sdj%]/g,dn=function(){};function Ye(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ne(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(ln,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function un(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function D(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||un(e)&&typeof t=="string"&&!t)}function fn(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,s||[]),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function st(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function cn(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var lt=(function(t){an(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e})(Ke(Error));function hn(t,e,n,r,i){if(e.first){var o=new Promise(function(v,F){var h=function(c){return r(c),c.length?F(new lt(c,Ye(c))):v(i)},m=cn(t);st(m,n,h)});return o.catch(function(v){return v}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),u=s.length,f=0,l=[],g=new Promise(function(v,F){var h=function(w){if(l.push.apply(l,w),f++,f===u)return r(l),l.length?F(new lt(l,Ye(l))):v(i)};s.length||(r(l),v(i)),s.forEach(function(m){var w=t[m];a.indexOf(m)!==-1?st(w,n,h):fn(w,n,h)})});return g.catch(function(v){return v}),g}function mn(t){return!!(t&&t.message!==void 0)}function gn(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function dt(t,e){return function(n){var r;return t.fullFields?r=gn(e,t.fullFields):r=e[n.field||t.fullField],mn(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function ut(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=pe({},t[n],r):t[n]=r}}return t}var Pt=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||D(n,a||e.type))&&i.push(ne(o.messages.required,e.fullField))},vn=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(ne(o.messages.whitespace,e.fullField))},Ce,bn=(function(){if(Ce)return Ce;var t="[a-fA-F\\d:]",e=function(k){return k&&k.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),u=function(k){return k&&k.exact?o:new RegExp("(?:"+e(k)+n+e(k)+")|(?:"+e(k)+i+e(k)+")","g")};u.v4=function(b){return b&&b.exact?a:new RegExp(""+e(b)+n+e(b),"g")},u.v6=function(b){return b&&b.exact?s:new RegExp(""+e(b)+i+e(b),"g")};var f="(?:(?:[a-z]+:)?//)",l="(?:\\S+(?::\\S*)?@)?",g=u.v4().source,v=u.v6().source,F="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",h="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",c='(?:[/?#][^\\s"]*)?',_="(?:"+f+"|www\\.)"+l+"(?:localhost|"+g+"|"+v+"|"+F+h+m+")"+w+c;return Ce=new RegExp("(?:^"+_+"$)","i"),Ce}),ft={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},_e={integer:function(e){return _e.number(e)&&parseInt(e,10)===e},float:function(e){return _e.number(e)&&!_e.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!_e.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(ft.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(bn())},hex:function(e){return typeof e=="string"&&!!e.match(ft.hex)}},pn=function(e,n,r,i,o){if(e.required&&n===void 0){Pt(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?_e[s](n)||i.push(ne(o.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&i.push(ne(o.messages.types[s],e.fullField,e.type))},yn=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=n,g=null,v=typeof n=="number",F=typeof n=="string",h=Array.isArray(n);if(v?g="number":F?g="string":h&&(g="array"),!g)return!1;h&&(l=n.length),F&&(l=n.replace(f,"_").length),a?l!==e.len&&i.push(ne(o.messages[g].len,e.fullField,e.len)):s&&!u&&l<e.min?i.push(ne(o.messages[g].min,e.fullField,e.min)):u&&!s&&l>e.max?i.push(ne(o.messages[g].max,e.fullField,e.max)):s&&u&&(l<e.min||l>e.max)&&i.push(ne(o.messages[g].range,e.fullField,e.min,e.max))},Re="enum",wn=function(e,n,r,i,o){e[Re]=Array.isArray(e[Re])?e[Re]:[],e[Re].indexOf(n)===-1&&i.push(ne(o.messages[Re],e.fullField,e[Re].join(", ")))},xn=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(ne(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(ne(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},R={required:Pt,whitespace:vn,type:pn,range:yn,enum:wn,pattern:xn},kn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n,"string")&&!e.required)return r();R.required(e,n,i,a,o,"string"),D(n,"string")||(R.type(e,n,i,a,o),R.range(e,n,i,a,o),R.pattern(e,n,i,a,o),e.whitespace===!0&&R.whitespace(e,n,i,a,o))}r(a)},Rn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&R.type(e,n,i,a,o)}r(a)},Sn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&(R.type(e,n,i,a,o),R.range(e,n,i,a,o))}r(a)},Fn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&R.type(e,n,i,a,o)}r(a)},Pn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),D(n)||R.type(e,n,i,a,o)}r(a)},Vn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&(R.type(e,n,i,a,o),R.range(e,n,i,a,o))}r(a)},$n=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&(R.type(e,n,i,a,o),R.range(e,n,i,a,o))}r(a)},On=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();R.required(e,n,i,a,o,"array"),n!=null&&(R.type(e,n,i,a,o),R.range(e,n,i,a,o))}r(a)},_n=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&R.type(e,n,i,a,o)}r(a)},qn="enum",In=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o),n!==void 0&&R[qn](e,n,i,a,o)}r(a)},An=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n,"string")&&!e.required)return r();R.required(e,n,i,a,o),D(n,"string")||R.pattern(e,n,i,a,o)}r(a)},Cn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n,"date")&&!e.required)return r();if(R.required(e,n,i,a,o),!D(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),R.type(e,u,i,a,o),u&&R.range(e,u.getTime(),i,a,o)}}r(a)},Mn=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":typeof n;R.required(e,n,i,a,o,s),r(a)},De=function(e,n,r,i,o){var a=e.type,s=[],u=e.required||!e.required&&i.hasOwnProperty(e.field);if(u){if(D(n,a)&&!e.required)return r();R.required(e,n,i,s,o,a),D(n,a)||R.type(e,n,i,s,o)}r(s)},Bn=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(D(n)&&!e.required)return r();R.required(e,n,i,a,o)}r(a)},qe={string:kn,method:Rn,number:Sn,boolean:Fn,regexp:Pn,integer:Vn,float:$n,array:On,object:_n,enum:In,pattern:An,date:Cn,url:De,hex:De,email:De,required:Mn,any:Bn};function Ge(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Je=Ge(),Fe=(function(){function t(n){this.rules=null,this._messages=Je,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var a=r[o];i.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=ut(Ge(),r)),this._messages},e.validate=function(r,i,o){var a=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var s=r,u=i,f=o;if(typeof u=="function"&&(f=u,u={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,s),Promise.resolve(s);function l(m){var w=[],c={};function _(k){if(Array.isArray(k)){var j;w=(j=w).concat.apply(j,k)}else w.push(k)}for(var b=0;b<m.length;b++)_(m[b]);w.length?(c=Ye(w),f(w,c)):f(null,s)}if(u.messages){var g=this.messages();g===Je&&(g=Ge()),ut(g,u.messages),u.messages=g}else u.messages=this.messages();var v={},F=u.keys||Object.keys(this.rules);F.forEach(function(m){var w=a.rules[m],c=s[m];w.forEach(function(_){var b=_;typeof b.transform=="function"&&(s===r&&(s=pe({},s)),c=s[m]=b.transform(c)),typeof b=="function"?b={validator:b}:b=pe({},b),b.validator=a.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=a.getType(b),v[m]=v[m]||[],v[m].push({rule:b,value:c,source:s,field:m}))})});var h={};return hn(v,u,function(m,w){var c=m.rule,_=(c.type==="object"||c.type==="array")&&(typeof c.fields=="object"||typeof c.defaultField=="object");_=_&&(c.required||!c.required&&m.value),c.field=m.field;function b(I,A){return pe({},A,{fullField:c.fullField+"."+I,fullFields:c.fullFields?[].concat(c.fullFields,[I]):[I]})}function k(I){I===void 0&&(I=[]);var A=Array.isArray(I)?I:[I];!u.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&c.message!==void 0&&(A=[].concat(c.message));var x=A.map(dt(c,s));if(u.first&&x.length)return h[c.field]=1,w(x);if(!_)w(x);else{if(c.required&&!m.value)return c.message!==void 0?x=[].concat(c.message).map(dt(c,s)):u.error&&(x=[u.error(c,ne(u.messages.required,c.field))]),w(x);var C={};c.defaultField&&Object.keys(m.value).map(function(q){C[q]=c.defaultField}),C=pe({},C,m.rule.fields);var re={};Object.keys(C).forEach(function(q){var L=C[q],P=Array.isArray(L)?L:[L];re[q]=P.map(b.bind(null,q))});var ee=new t(re);ee.messages(u.messages),m.rule.options&&(m.rule.options.messages=u.messages,m.rule.options.error=u.error),ee.validate(m.value,m.rule.options||u,function(q){var L=[];x&&x.length&&L.push.apply(L,x),q&&q.length&&L.push.apply(L,q),w(L.length?L:null)})}}var j;if(c.asyncValidator)j=c.asyncValidator(c,m.value,k,m.source,u);else if(c.validator){try{j=c.validator(c,m.value,k,m.source,u)}catch(I){console.error?.(I),u.suppressValidatorError||setTimeout(function(){throw I},0),k(I.message)}j===!0?k():j===!1?k(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||(c.fullField||c.field)+" fails"):j instanceof Array?k(j):j instanceof Error&&k(j.message)}j&&j.then&&j.then(function(){return k()},function(I){return k(I)})},function(m){l(m)},s)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!qe.hasOwnProperty(r.type))throw new Error(ne("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?qe.required:qe[this.getType(r)]||void 0},t})();Fe.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");qe[e]=n};Fe.warning=dn;Fe.messages=Je;Fe.validators=qe;const{cubicBezierEaseInOut:ct}=jt;function jn({name:t="fade-down",fromOffset:e="-4px",enterDuration:n=".3s",leaveDuration:r=".3s",enterCubicBezier:i=ct,leaveCubicBezier:o=ct}={}){return[ue(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),ue(`&.${t}-transition-enter-to, &.${t}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),ue(`&.${t}-transition-leave-active`,{transition:`opacity ${r} ${o}, transform ${r} ${o}`}),ue(`&.${t}-transition-enter-active`,{transition:`opacity ${n} ${i}, transform ${n} ${i}`})]}const En=Z("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[Z("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[V("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),V("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),Z("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),T("auto-label-width",[Z("form-item-label","white-space: nowrap;")]),T("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: flex-start;
 `,[Z("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[T("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),T("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),T("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),T("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),V("text",`
 grid-area: text; 
 `),V("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),T("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[T("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),Z("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),Z("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),Z("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[ue("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),Z("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[T("warning",{color:"var(--n-feedback-text-color-warning)"}),T("error",{color:"var(--n-feedback-text-color-error)"}),jn({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);function Nn(t){const e=Pe(Ae,null);return{mergedSize:M(()=>t.size!==void 0?t.size:e?.props.size!==void 0?e.props.size:"medium")}}function Tn(t){const e=Pe(Ae,null),n=M(()=>{const{labelPlacement:h}=t;return h!==void 0?h:e?.props.labelPlacement?e.props.labelPlacement:"top"}),r=M(()=>n.value==="left"&&(t.labelWidth==="auto"||e?.props.labelWidth==="auto")),i=M(()=>{if(n.value==="top")return;const{labelWidth:h}=t;if(h!==void 0&&h!=="auto")return Ne(h);if(r.value){const m=e?.maxChildLabelWidthRef.value;return m!==void 0?Ne(m):void 0}if(e?.props.labelWidth!==void 0)return Ne(e.props.labelWidth)}),o=M(()=>{const{labelAlign:h}=t;if(h)return h;if(e?.props.labelAlign)return e.props.labelAlign}),a=M(()=>{var h;return[(h=t.labelProps)===null||h===void 0?void 0:h.style,t.labelStyle,{width:i.value}]}),s=M(()=>{const{showRequireMark:h}=t;return h!==void 0?h:e?.props.showRequireMark}),u=M(()=>{const{requireMarkPlacement:h}=t;return h!==void 0?h:e?.props.requireMarkPlacement||"right"}),f=Q(!1),l=Q(!1),g=M(()=>{const{validationStatus:h}=t;if(h!==void 0)return h;if(f.value)return"error";if(l.value)return"warning"}),v=M(()=>{const{showFeedback:h}=t;return h!==void 0?h:e?.props.showFeedback!==void 0?e.props.showFeedback:!0}),F=M(()=>{const{showLabel:h}=t;return h!==void 0?h:e?.props.showLabel!==void 0?e.props.showLabel:!0});return{validationErrored:f,validationWarned:l,mergedLabelStyle:a,mergedLabelPlacement:n,mergedLabelAlign:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:u,mergedValidationStatus:g,mergedShowFeedback:v,mergedShowLabel:F,isAutoLabelWidth:r}}function zn(t){const e=Pe(Ae,null),n=M(()=>{const{rulePath:a}=t;if(a!==void 0)return a;const{path:s}=t;if(s!==void 0)return s}),r=M(()=>{const a=[],{rule:s}=t;if(s!==void 0&&(Array.isArray(s)?a.push(...s):a.push(s)),e){const{rules:u}=e.props,{value:f}=n;if(u!==void 0&&f!==void 0){const l=xt(u,f);l!==void 0&&(Array.isArray(l)?a.push(...l):a.push(l))}}return a}),i=M(()=>r.value.some(a=>a.required)),o=M(()=>i.value||t.required);return{mergedRules:r,mergedRequired:o}}var ht=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{f(r.next(l))}catch(g){a(g)}}function u(l){try{f(r.throw(l))}catch(g){a(g)}}function f(l){l.done?o(l.value):i(l.value).then(s,u)}f((r=r.apply(t,e||[])).next())})};const Dn=Object.assign(Object.assign({},ge.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,feedbackClass:String,feedbackStyle:[String,Object],showLabel:{type:Boolean,default:void 0},labelProps:Object,contentClass:String,contentStyle:[String,Object]});function mt(t,e){return(...n)=>{try{const r=t(...n);return!e&&(typeof r=="boolean"||r instanceof Error||Array.isArray(r))||r?.then?r:(r===void 0||et("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use ${e?"`Promise`":"`boolean`, `Error` or `Promise`"} typed value instead.`),!0)}catch(r){et("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(r);return}}}const er=Ve({name:"FormItem",props:Dn,setup(t){Yt(Ft,"formItems",Se(t,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Be(t),r=Pe(Ae,null),i=Nn(t),o=Tn(t),{validationErrored:a,validationWarned:s}=o,{mergedRequired:u,mergedRules:f}=zn(t),{mergedSize:l}=i,{mergedLabelPlacement:g,mergedLabelAlign:v,mergedRequireMarkPlacement:F}=o,h=Q([]),m=Q(Qe()),w=r?Se(r.props,"disabled"):Q(!1),c=ge("Form","-form-item",En,wt,t,e);Ze(Se(t,"path"),()=>{t.ignorePathChange||_()});function _(){h.value=[],a.value=!1,s.value=!1,t.feedback&&(m.value=Qe())}const b=(...P)=>ht(this,[...P],void 0,function*(W=null,G=()=>!0,B={suppressWarning:!0}){const{path:E}=t;B?B.first||(B.first=t.first):B={};const{value:ae}=f,oe=r?xt(r.props.model,E||""):void 0,U={},te={},K=(W?ae.filter($=>Array.isArray($.trigger)?$.trigger.includes(W):$.trigger===W):ae).filter(G).map(($,H)=>{const O=Object.assign({},$);if(O.validator&&(O.validator=mt(O.validator,!1)),O.asyncValidator&&(O.asyncValidator=mt(O.asyncValidator,!0)),O.renderMessage){const xe=`__renderMessage__${H}`;te[xe]=O.message,O.message=xe,U[xe]=O.renderMessage}return O}),Y=K.filter($=>$.level!=="warning"),se=K.filter($=>$.level==="warning"),N={valid:!0,errors:void 0,warnings:void 0};if(!K.length)return N;const J=E??"__n_no_path__",ie=new Fe({[J]:Y}),ye=new Fe({[J]:se}),{validateMessages:ve}=r?.props||{};ve&&(ie.messages(ve),ye.messages(ve));const we=$=>{h.value=$.map(H=>{const O=H?.message||"";return{key:O,render:()=>O.startsWith("__renderMessage__")?U[O]():O}}),$.forEach(H=>{var O;!((O=H.message)===null||O===void 0)&&O.startsWith("__renderMessage__")&&(H.message=te[H.message])})};if(Y.length){const $=yield new Promise(H=>{ie.validate({[J]:oe},B,H)});$?.length&&(N.valid=!1,N.errors=$,we($))}if(se.length&&!N.errors){const $=yield new Promise(H=>{ye.validate({[J]:oe},B,H)});$?.length&&(we($),N.warnings=$)}return!N.errors&&!N.warnings?_():(a.value=!!N.errors,s.value=!!N.warnings),N});function k(){b("blur")}function j(){b("change")}function I(){b("focus")}function A(){b("input")}function x(P,W){return ht(this,void 0,void 0,function*(){let G,B,E,ae;return typeof P=="string"?(G=P,B=W):P!==null&&typeof P=="object"&&(G=P.trigger,B=P.callback,E=P.shouldRuleBeApplied,ae=P.options),yield new Promise((oe,U)=>{b(G,E,ae).then(({valid:te,errors:K,warnings:Y})=>{te?(B&&B(void 0,{warnings:Y}),oe({warnings:Y})):(B&&B(K,{warnings:Y}),U(K))})})})}Ue(Nt,{path:Se(t,"path"),disabled:w,mergedSize:i.mergedSize,mergedValidationStatus:o.mergedValidationStatus,restoreValidation:_,handleContentBlur:k,handleContentChange:j,handleContentFocus:I,handleContentInput:A});const C={validate:x,restoreValidation:_,internalValidate:b},re=Q(null);Tt(()=>{if(!o.isAutoLabelWidth.value)return;const P=re.value;if(P!==null){const W=P.style.whiteSpace;P.style.whiteSpace="nowrap",P.style.width="",r?.deriveMaxChildLabelWidth(Number(getComputedStyle(P).width.slice(0,-2))),P.style.whiteSpace=W}});const ee=M(()=>{var P;const{value:W}=l,{value:G}=g,B=G==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:E},self:{labelTextColor:ae,asteriskColor:oe,lineHeight:U,feedbackTextColor:te,feedbackTextColorWarning:K,feedbackTextColorError:Y,feedbackPadding:se,labelFontWeight:N,[X("labelHeight",W)]:J,[X("blankHeight",W)]:ie,[X("feedbackFontSize",W)]:ye,[X("feedbackHeight",W)]:ve,[X("labelPadding",B)]:we,[X("labelTextAlign",B)]:$,[X(X("labelFontSize",G),W)]:H}}=c.value;let O=(P=v.value)!==null&&P!==void 0?P:$;return G==="top"&&(O=O==="right"?"flex-end":"flex-start"),{"--n-bezier":E,"--n-line-height":U,"--n-blank-height":ie,"--n-label-font-size":H,"--n-label-text-align":O,"--n-label-height":J,"--n-label-padding":we,"--n-label-font-weight":N,"--n-asterisk-color":oe,"--n-label-text-color":ae,"--n-feedback-padding":se,"--n-feedback-font-size":ye,"--n-feedback-height":ve,"--n-feedback-text-color":te,"--n-feedback-text-color-warning":K,"--n-feedback-text-color-error":Y}}),q=n?kt("form-item",M(()=>{var P;return`${l.value[0]}${g.value[0]}${((P=v.value)===null||P===void 0?void 0:P[0])||""}`}),ee,t):void 0,L=M(()=>g.value==="left"&&F.value==="left"&&v.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:re,mergedClsPrefix:e,mergedRequired:u,feedbackId:m,renderExplains:h,reverseColSpace:L},o),i),C),{cssVars:n?void 0:ee,themeClass:q?.themeClass,onRender:q?.onRender})},render(){const{$slots:t,mergedClsPrefix:e,mergedShowLabel:n,mergedShowRequireMark:r,mergedRequireMarkPlacement:i,onRender:o}=this,a=r!==void 0?r:this.mergedRequired;o?.();const s=()=>{const u=this.$slots.label?this.$slots.label():this.label;if(!u)return null;const f=y("span",{class:`${e}-form-item-label__text`},u),l=a?y("span",{class:`${e}-form-item-label__asterisk`},i!=="left"?" *":"* "):i==="right-hanging"&&y("span",{class:`${e}-form-item-label__asterisk-placeholder`}," *"),{labelProps:g}=this;return y("label",Object.assign({},g,{class:[g?.class,`${e}-form-item-label`,`${e}-form-item-label--${i}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),i==="left"?[l,f]:[f,l])};return y("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!n&&`${e}-form-item--no-label`],style:this.cssVars},n&&s(),y("div",{class:[`${e}-form-item-blank`,this.contentClass,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`],style:this.contentStyle},t),this.mergedShowFeedback?y("div",{key:this.feedbackId,style:this.feedbackStyle,class:[`${e}-form-item-feedback-wrapper`,this.feedbackClass]},y(Et,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:u}=this;return de(t.feedback,f=>{var l;const{feedback:g}=this,v=f||g?y("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},f||g):this.renderExplains.length?(l=this.renderExplains)===null||l===void 0?void 0:l.map(({key:F,render:h})=>y("div",{key:F,class:`${e}-form-item-feedback__line`},h())):null;return v?u==="warning"?y("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},v):u==="error"?y("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},v):u==="success"?y("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},v):y("div",{key:"controlled-default",class:`${e}-form-item-feedback`},v):null})}})):null)}}),Ln=ue([Z("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),Z("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]);function Wn(t){return t==null||typeof t=="string"&&t.trim()===""?null:Number(t)}function Un(t){return t.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(t)||/^-?\d*$/.test(t))||t==="-"||t==="-0"}function Le(t){return t==null?!0:!Number.isNaN(t)}function gt(t,e){return typeof t!="number"?"":e===void 0?String(t):t.toFixed(e)}function We(t){if(t===null)return null;if(typeof t=="number")return t;{const e=Number(t);return Number.isNaN(e)?null:e}}const vt=800,bt=100,Hn=Object.assign(Object.assign({},ge.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},round:{type:Boolean,default:void 0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),tr=Ve({name:"InputNumber",props:Hn,slots:Object,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,mergedRtlRef:r}=Be(t),i=ge("InputNumber","-input-number",Ln,Xt,t,n),{localeRef:o}=Kt("InputNumber"),a=Rt(t),{mergedSizeRef:s,mergedDisabledRef:u,mergedStatusRef:f}=a,l=Q(null),g=Q(null),v=Q(null),F=Q(t.defaultValue),h=Se(t,"value"),m=St(h,F),w=Q(""),c=d=>{const p=String(d).split(".")[1];return p?p.length:0},_=d=>{const p=[t.min,t.max,t.step,d].map(S=>S===void 0?0:c(S));return Math.max(...p)},b=be(()=>{const{placeholder:d}=t;return d!==void 0?d:o.value.placeholder}),k=be(()=>{const d=We(t.step);return d!==null?d===0?1:Math.abs(d):1}),j=be(()=>{const d=We(t.min);return d!==null?d:null}),I=be(()=>{const d=We(t.max);return d!==null?d:null}),A=()=>{const{value:d}=m;if(Le(d)){const{format:p,precision:S}=t;p?w.value=p(d):d===null||S===void 0||c(d)>S?w.value=gt(d,void 0):w.value=gt(d,S)}else w.value=String(d)};A();const x=d=>{const{value:p}=m;if(d===p){A();return}const{"onUpdate:value":S,onUpdateValue:z,onChange:le}=t,{nTriggerFormInput:fe,nTriggerFormChange:ke}=a;le&&he(le,d),z&&he(z,d),S&&he(S,d),F.value=d,fe(),ke()},C=({offset:d,doUpdateIfValid:p,fixPrecision:S,isInputing:z})=>{const{value:le}=w;if(z&&Un(le))return!1;const fe=(t.parse||Wn)(le);if(fe===null)return p&&x(null),null;if(Le(fe)){const ke=c(fe),{precision:$e}=t;if($e!==void 0&&$e<ke&&!S)return!1;let me=Number.parseFloat((fe+d).toFixed($e??_(fe)));if(Le(me)){const{value:je}=I,{value:Ee}=j;if(je!==null&&me>je){if(!p||z)return!1;me=je}if(Ee!==null&&me<Ee){if(!p||z)return!1;me=Ee}return t.validator&&!t.validator(me)?!1:(p&&x(me),me)}}return!1},re=be(()=>C({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),ee=be(()=>{const{value:d}=m;if(t.validator&&d===null)return!1;const{value:p}=k;return C({offset:-p,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),q=be(()=>{const{value:d}=m;if(t.validator&&d===null)return!1;const{value:p}=k;return C({offset:+p,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function L(d){const{onFocus:p}=t,{nTriggerFormFocus:S}=a;p&&he(p,d),S()}function P(d){var p,S;if(d.target===((p=l.value)===null||p===void 0?void 0:p.wrapperElRef))return;const z=C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(z!==!1){const ke=(S=l.value)===null||S===void 0?void 0:S.inputElRef;ke&&(ke.value=String(z||"")),m.value===z&&A()}else A();const{onBlur:le}=t,{nTriggerFormBlur:fe}=a;le&&he(le,d),fe(),Lt(()=>{A()})}function W(d){const{onClear:p}=t;p&&he(p,d)}function G(){const{value:d}=q;if(!d){ie();return}const{value:p}=m;if(p===null)t.validator||x(oe());else{const{value:S}=k;C({offset:S,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function B(){const{value:d}=ee;if(!d){N();return}const{value:p}=m;if(p===null)t.validator||x(oe());else{const{value:S}=k;C({offset:-S,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const E=L,ae=P;function oe(){if(t.validator)return null;const{value:d}=j,{value:p}=I;return d!==null?Math.max(0,d):p!==null?Math.min(0,p):0}function U(d){W(d),x(null)}function te(d){var p,S,z;!((p=v.value)===null||p===void 0)&&p.$el.contains(d.target)&&d.preventDefault(),!((S=g.value)===null||S===void 0)&&S.$el.contains(d.target)&&d.preventDefault(),(z=l.value)===null||z===void 0||z.activate()}let K=null,Y=null,se=null;function N(){se&&(window.clearTimeout(se),se=null),K&&(window.clearInterval(K),K=null)}let J=null;function ie(){J&&(window.clearTimeout(J),J=null),Y&&(window.clearInterval(Y),Y=null)}function ye(){N(),se=window.setTimeout(()=>{K=window.setInterval(()=>{B()},bt)},vt),it("mouseup",document,N,{once:!0})}function ve(){ie(),J=window.setTimeout(()=>{Y=window.setInterval(()=>{G()},bt)},vt),it("mouseup",document,ie,{once:!0})}const we=()=>{Y||G()},$=()=>{K||B()};function H(d){var p,S;if(d.key==="Enter"){if(d.target===((p=l.value)===null||p===void 0?void 0:p.wrapperElRef))return;C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((S=l.value)===null||S===void 0||S.deactivate())}else if(d.key==="ArrowUp"){if(!q.value||t.keyboard.ArrowUp===!1)return;d.preventDefault(),C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&G()}else if(d.key==="ArrowDown"){if(!ee.value||t.keyboard.ArrowDown===!1)return;d.preventDefault(),C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&B()}}function O(d){w.value=d,t.updateValueOnInput&&!t.format&&!t.parse&&t.precision===void 0&&C({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}Ze(m,()=>{A()});const xe={focus:()=>{var d;return(d=l.value)===null||d===void 0?void 0:d.focus()},blur:()=>{var d;return(d=l.value)===null||d===void 0?void 0:d.blur()},select:()=>{var d;return(d=l.value)===null||d===void 0?void 0:d.select()}},Vt=zt("InputNumber",r,n);return Object.assign(Object.assign({},xe),{rtlEnabled:Vt,inputInstRef:l,minusButtonInstRef:g,addButtonInstRef:v,mergedClsPrefix:n,mergedBordered:e,uncontrolledValue:F,mergedValue:m,mergedPlaceholder:b,displayedValueInvalid:re,mergedSize:s,mergedDisabled:u,displayedValue:w,addable:q,minusable:ee,mergedStatus:f,handleFocus:E,handleBlur:ae,handleClear:U,handleMouseDown:te,handleAddClick:we,handleMinusClick:$,handleAddMousedown:ve,handleMinusMousedown:ye,handleKeyDown:H,handleUpdateDisplayedValue:O,mergedTheme:i,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:M(()=>{const{self:{iconColorDisabled:d}}=i.value,[p,S,z,le]=Dt(d);return{textColorTextDisabled:`rgb(${p}, ${S}, ${z})`,opacityDisabled:`${le}`}})})},render(){const{mergedClsPrefix:t,$slots:e}=this,n=()=>y(rt,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>tt(e["minus-icon"],()=>[y(nt,{clsPrefix:t},{default:()=>y(Jt,null)})])}),r=()=>y(rt,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>tt(e["add-icon"],()=>[y(nt,{clsPrefix:t},{default:()=>y(Gt,null)})])});return y("div",{class:[`${t}-input-number`,this.rtlEnabled&&`${t}-input-number--rtl`]},y(Ht,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,round:this.round,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var i;return this.showButton&&this.buttonPlacement==="both"?[n(),de(e.prefix,o=>o?y("span",{class:`${t}-input-number-prefix`},o):null)]:(i=e.prefix)===null||i===void 0?void 0:i.call(e)},suffix:()=>{var i;return this.showButton?[de(e.suffix,o=>o?y("span",{class:`${t}-input-number-suffix`},o):null),this.buttonPlacement==="right"?n():null,r()]:(i=e.suffix)===null||i===void 0?void 0:i.call(e)}}))}}),Kn=Z("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[V("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),V("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),V("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),Z("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[ot({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),V("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),V("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),V("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),ue("&:focus",[V("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),T("round",[V("rail","border-radius: calc(var(--n-rail-height) / 2);",[V("button","border-radius: calc(var(--n-button-height) / 2);")])]),at("disabled",[at("icon",[T("rubber-band",[T("pressed",[V("rail",[V("button","max-width: var(--n-button-width-pressed);")])]),V("rail",[ue("&:active",[V("button","max-width: var(--n-button-width-pressed);")])]),T("active",[T("pressed",[V("rail",[V("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),V("rail",[ue("&:active",[V("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),T("active",[V("rail",[V("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),V("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[V("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[ot()]),V("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),T("active",[V("rail","background-color: var(--n-rail-color-active);")]),T("loading",[V("rail",`
 cursor: wait;
 `)]),T("disabled",[V("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),Yn=Object.assign(Object.assign({},ge.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let Oe;const nr=Ve({name:"Switch",props:Yn,slots:Object,setup(t){Oe===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?Oe=CSS.supports("width","max(1px)"):Oe=!1:Oe=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Be(t),r=ge("Switch","-switch",Kn,en,t,e),i=Rt(t),{mergedSizeRef:o,mergedDisabledRef:a}=i,s=Q(t.defaultValue),u=Se(t,"value"),f=St(u,s),l=M(()=>f.value===t.checkedValue),g=Q(!1),v=Q(!1),F=M(()=>{const{railStyle:x}=t;if(x)return x({focused:v.value,checked:l.value})});function h(x){const{"onUpdate:value":C,onChange:re,onUpdateValue:ee}=t,{nTriggerFormInput:q,nTriggerFormChange:L}=i;C&&he(C,x),ee&&he(ee,x),re&&he(re,x),s.value=x,q(),L()}function m(){const{nTriggerFormFocus:x}=i;x()}function w(){const{nTriggerFormBlur:x}=i;x()}function c(){t.loading||a.value||(f.value!==t.checkedValue?h(t.checkedValue):h(t.uncheckedValue))}function _(){v.value=!0,m()}function b(){v.value=!1,w(),g.value=!1}function k(x){t.loading||a.value||x.key===" "&&(f.value!==t.checkedValue?h(t.checkedValue):h(t.uncheckedValue),g.value=!1)}function j(x){t.loading||a.value||x.key===" "&&(x.preventDefault(),g.value=!0)}const I=M(()=>{const{value:x}=o,{self:{opacityDisabled:C,railColor:re,railColorActive:ee,buttonBoxShadow:q,buttonColor:L,boxShadowFocus:P,loadingColor:W,textColor:G,iconColor:B,[X("buttonHeight",x)]:E,[X("buttonWidth",x)]:ae,[X("buttonWidthPressed",x)]:oe,[X("railHeight",x)]:U,[X("railWidth",x)]:te,[X("railBorderRadius",x)]:K,[X("buttonBorderRadius",x)]:Y},common:{cubicBezierEaseInOut:se}}=r.value;let N,J,ie;return Oe?(N=`calc((${U} - ${E}) / 2)`,J=`max(${U}, ${E})`,ie=`max(${te}, calc(${te} + ${E} - ${U}))`):(N=ze((ce(U)-ce(E))/2),J=ze(Math.max(ce(U),ce(E))),ie=ce(U)>ce(E)?te:ze(ce(te)+ce(E)-ce(U))),{"--n-bezier":se,"--n-button-border-radius":Y,"--n-button-box-shadow":q,"--n-button-color":L,"--n-button-width":ae,"--n-button-width-pressed":oe,"--n-button-height":E,"--n-height":J,"--n-offset":N,"--n-opacity-disabled":C,"--n-rail-border-radius":K,"--n-rail-color":re,"--n-rail-color-active":ee,"--n-rail-height":U,"--n-rail-width":te,"--n-width":ie,"--n-box-shadow-focus":P,"--n-loading-color":W,"--n-text-color":G,"--n-icon-color":B}}),A=n?kt("switch",M(()=>o.value[0]),I,t):void 0;return{handleClick:c,handleBlur:b,handleFocus:_,handleKeyup:k,handleKeydown:j,mergedRailStyle:F,pressed:g,mergedClsPrefix:e,mergedValue:f,checked:l,mergedDisabled:a,cssVars:n?void 0:I,themeClass:A?.themeClass,onRender:A?.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:n,mergedRailStyle:r,onRender:i,$slots:o}=this;i?.();const{checked:a,unchecked:s,icon:u,"checked-icon":f,"unchecked-icon":l}=o,g=!(Te(u)&&Te(f)&&Te(l));return y("div",{role:"switch","aria-checked":n,class:[`${t}-switch`,this.themeClass,g&&`${t}-switch--icon`,n&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},y("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:r},de(a,v=>de(s,F=>v||F?y("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},y("div",{class:`${t}-switch__rail-placeholder`},y("div",{class:`${t}-switch__button-placeholder`}),v),y("div",{class:`${t}-switch__rail-placeholder`},y("div",{class:`${t}-switch__button-placeholder`}),F)):null)),y("div",{class:`${t}-switch__button`},de(u,v=>de(f,F=>de(l,h=>y(Wt,null,{default:()=>this.loading?y(Ut,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(F||v)?y("div",{class:`${t}-switch__button-icon`,key:F?"checked-icon":"icon"},F||v):!this.checked&&(h||v)?y("div",{class:`${t}-switch__button-icon`,key:h?"unchecked-icon":"icon"},h||v):null})))),de(a,v=>v&&y("div",{key:"checked",class:`${t}-switch__checked`},v)),de(s,v=>v&&y("div",{key:"unchecked",class:`${t}-switch__unchecked`},v)))))}});export{Gt as A,Qn as N,er as a,tr as b,nr as c,Xn as u};
